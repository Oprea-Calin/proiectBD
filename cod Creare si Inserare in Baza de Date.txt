//CREAREA TABELELOR
CREATE TABLE destinatii (
  id_destinatie INT NOT NULL,
  tara VARCHAR(30) NOT NULL,
  oras VARCHAR(30) NOT NULL,
  PRIMARY KEY (id_destinatie));

CREATE TABLE clienti (
  id_clienti INT NOT NULL,
  nume VARCHAR(45) NOT NULL,
  prenume VARCHAR(45) NOT NULL,
  telefon VARCHAR(16) NULL,
  cnp VARCHAR(13) NOT NULL,
  PRIMARY KEY (id_clienti));

CREATE TABLE angajati (
  id_angajati INT NOT NULL,
  nume VARCHAR(45) NOT NULL,
  prenume VARCHAR(45) NOT NULL,
  telefon VARCHAR(16) NULL,
  tip_contract_munca VARCHAR(15) NOT NULL,
  data_angajarii DATE NOT NULL,
  PRIMARY KEY (id_angajati));

CREATE TABLE obiective (
  id_obiectiv INT NOT NULL,
  denumire VARCHAR(45) NOT NULL,
  tip_obiectiv VARCHAR(45) NULL,
  adresa VARCHAR(60) NOT NULL,
  telefon VARCHAR(16) NULL,
  id_destinatie INT NOT NULL,
  PRIMARY KEY (id_obiectiv),
  CONSTRAINT id_destinatie
    FOREIGN KEY (id_destinatie)
    REFERENCES destinatii (id_destinatie)
    ON DELETE CASCADE);

CREATE TABLE transporturi(
  id_transport INT NOT NULL,
  modalitate VARCHAR(45) NULL,
  companie VARCHAR(45) NULL,
  locul_plecarii VARCHAR(45) NULL,
  id_destinatie INT NOT NULL
  PRIMARY KEY (id_transport),
  CONSTRAINT fk_transport
    FOREIGN KEY (id_destinatie)
    REFERENCES destinatii (id_destinatie)
    ON DELETE CASCADE);

CREATE TABLE cazari(
  id_cazare INT NOT NULL,
  nume VARCHAR(45) NOT NULL,
  adresa VARCHAR(60) NOT NULL,
  contact VARCHAR(45) NOT NULL,
  calificativ FLOAT NULL,
  facilitati VARCHAR(100) NULL,
  id_destinatie INT NULL,
  PRIMARY KEY(id_cazare),
  CONSTRAINT fk_cazari
    FOREIGN KEY (id_destinatie)
    REFERENCES destinatii(id_destinatie)
    ON DELETE CASCADE
    );

CREATE TABLE oferte (
  id_oferta INT NOT NULL,
  pret/persoana VARCHAR(15) NOT NULL,
  activ_de_la_data DATE NOT NULL,
  activ_pana_la_data DATE NOT NULL,
  id_angajat INT NOT NULL,
 id_destinatie INT NOT NULL,
  PRIMARY KEY (id_oferta),
  CONSTRAINT fk.angajat
    FOREIGN KEY (id_angajat)
    REFERENCES angajati(id_angajat)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk.oferta
    FOREIGN KEY (id_destinatie)
    REFERENCES destinatii (id_destinatie)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);

CREATE TABLE  primesc(
  data DATE NOT NULL,
  id_client INT NULL,
  id_oferta INT NULL,
  CONSTRAINT fk_client
    FOREIGN KEY (id_client)
    REFERENCES clienti (id_client)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_primesc
    FOREIGN KEY (id_oferta)
    REFERENCES  oferte (id_oferta)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);

ALTER TABLE  primesc
DROP FOREIGN KEY fk_client,
DROP FOREIGN KEY fk_primesc;
ALTER TABLE primesc 
CHANGE COLUMN id_client id_client INT NOT NULL ,
CHANGE COLUMN id_oferta id_oferta INT NOT NULL ,
ADD PRIMARY KEY (id_client, id_oferta);
ALTER TABLE primesc
add(CONSTRAINT fk_client
  FOREIGN KEY (id_client)
  REFERENCES  clienti(id_clienti)),
CONSTRAINT fk_primesc
FOREIGN KEY (id_oferta)
REFERENCES  oferte(id_oferta));

//POPULAREA TABELELOR

INSERT INTO destinatii (id_destinatie, tara, oras) VALUES (‘1’,’Spania’, ‘Barcelona’);
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('2', 'Franta', 'Paris');
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('3', 'Italia', 'Roma');
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('4', 'Austria', 'Viena');
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('5', 'Romania', 'Bucuresti');
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('6', 'Regatul Unit', 'Londra');
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('7', 'Turcia', 'Ankara');
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('8', 'Grecia', 'Atena');
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('9', 'Suedia', 'Stockholm');
INSERT INTO destinatii (id_destinatie, tara, oras) VALUES ('10', 'Germania', 'Berlin');

INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('1', 'Popescu', 'Maria', '0723679037', '6001216018978');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('2', 'Stan', 'Andrei', '0758676097', '1950719338313');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES('3', 'Matei', 'Ana', '0769432023', '2990513059974');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES('4', 'Ciobanu', 'Alexandru', '0738566622', '1880721247770');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('5', 'Popovici', 'George', '0744892757', '1930723305095');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES('6', 'Ungureanu', 'Irina', '0755122947', '2991016418331');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('7', 'Petre', 'Madalina', '0743752100', '2221231359322');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES('8', 'Nistor', 'Simona', '0770058461', '6020423335751');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('9', 'Simion', 'Florin', '0753110648', '5010720229063');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('10', 'Voicu', 'Bianca', '0748392742', '6221216098318');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('11', 'Radulescu', 'Elena', '0745271975', '2730509416424');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('12', 'Vlad', 'Codrin', '0769382647', '2800819417125');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('13', 'Andrei', 'Georgiana', '0739248448', '2861129316831');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('14', 'Rus', 'Andreea', '0799329219', '2861111255204');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES('15', 'Marcu', 'Eduard', '0747201859', '1890601287095');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('16', 'Rosu', 'Madalina', '0729447599', '2890208286428');
INSERT INTO  clienti(id_client, nume, prenume, telefon, cnp) VALUES ('17', 'Muntean', 'Darius', '0700930209', '1890601245131');

INSERT INTO  angajati(id_angajat, nume, prenume, telefon, tip_contract_munca, data_angajarii) VALUES ('1', 'Toma', 'Dan', '0725894313', 'norma intreaga', to_date('2009-12-01','yyyy-mm-dd'));
INSERT INTO  angajati(id_angajat, nume, prenume, telefon, tip_contract_munca, data_angajarii) VALUES ('2', 'Negru', 'Iustina', '0748249200', 'norma intreaga', to_date('2010-03-23','yyyy-mm-dd'));
INSERT INTO  angajati(id_angajat, nume, prenume, telefon, tip_contract_munca, data_angajarii) VALUES ('3', 'Lupu', 'Diana', '0739428485', 'timp partial', to_date('2016-06-14','yyyy-mm-dd'));
INSERT INTO  angajati(id_angajat, nume, prenume, telefon, tip_contract_munca, data_angajarii) VALUES ('4', 'Lungu', 'Cosmin', '0755339289', 'norma intreaga', to_date('2016-10-07','yyyy-mm-dd'));
INSERT INTO  angajati(id_angajat, nume, prenume, telefon, tip_contract_munca, data_angajarii) VALUES ('5', 'Surdu', 'Alina', '0794728748', 'timp partial', to_date('2018-08-01','yyyy-mm-dd'));

INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('1', 'Colosseum', 'Cladire istorica', 'Piazza del Colosseo, 1, 00184 Roma RM, Italy', '+390639967700', '3');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('2', 'Forumul Roman', 'Cladire istorica', 'Via della Salara Vecchia, 5/6, 00186 Roma RM, Italy', '+390639967700', '3');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('3', 'Turnul Eiffel', 'Turn de observare', 'Champ de Mars, 5 Av. Anatole France, 75007 Paris, France', ' ', '2');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('4', 'Catedrala Sfantul Stefan', 'Catedrala', 'Stephansplatz 3, 1010 Wien, Austria', '+431515523530', '4');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('5', 'La Sagrada Familia', 'Biserica', 'C/ de Mallorca, 401, 08013 Barcelona, Spain', '+34932080414', '1');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('6', 'Louvre', 'Muzeu', 'Rue de Rivoli, 75001 Paris, France', '+33140205050', '2');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('7', 'Park Güell', 'Parc', '08024 Barcelona, Spain', '+34934091831', '1');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('8', 'Casa Mozart', 'Monument istoric', 'Mozarthaus, Domgasse 5, 1010 Wien, Austria', '+4315121791', '4');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('9', 'Picasso Museum', 'Muzeu', 'Carrer de Montcada, 15-23, 08003 Barcelona, Spain', '+34932563000', '1');
INSERT INTO  obiective(id_obiectiv, denumire, tip_obiectiv, adresa, telefon, id_destinatie) VALUES ('10', 'Opera de Stat din Viena', 'Opera', 'Opernring 2, 1010 Wien, Austria', '+431514442250', '4');

INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('1', 'aeriana', 'Wizz-Air', 'Cluj-Napoca', '1');
INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('2', 'rutiera', 'Romfor', 'Bucuresti', '4');
INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('3', 'aeriama', 'Tarom', 'Bucuresti', '2');
INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('4', 'feroviara', 'SNCF', 'Timisoara', '2');
INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('5', 'aeriana', 'Wizz-Air', 'Iasi', '1');
INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('6', 'rutiera', 'Atlassib', 'Iasi', '3');
INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('7', 'feroviara', 'OBB', 'Timisoara', '4');
INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('8', 'rutiera', 'Euro-trans', 'Bucuresti', '3');
INSERT INTO transporturi (id_transport, modalitate, companie, locul_plecarii, id_destinatie) VALUES ('9', 'feroviara', 'RENFE', 'Bucuresti', '1');
INSERT INTO transporturi(id_transport, modalitate, companie, locul_plecarii, id_destinatie)VALUES('10', 'aeriana', 'Delta', 'Bucuresti', '2');

INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('1', 'Hôtel Saint Marcel', '43 Boulevard Saint-Marcel, 13th arr., 75013 Paris, France', '+58739573824','7', 'sala de sport, wi-fi, loc pentru nefumatori, parcare', '2');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('2', 'Hotel Eden', '110 rue Blomet, 15th arr., 75015 Paris, France', 'hotel.eden@gmail.com', '8.4', 'baie proprie, room service, piscina, wi-fi, parcare', '2');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('3', 'Hotel Pacific', 'Viale Delle Medaglie Italy', '+57358939479', '8', 'acces acoperis, wi-fi, primeste animale', '3');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('4', 'Hotel Paxton Barcelona', '160 Carrer de Llull, Sant Martí, 08005 Barcelona, Spain', 'HotelPaxtomB@gamil.com', '9.4', 'baie proprie, mic-dejun, piscina, bar, wi-fi, parcare', '1');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('5', 'Hostal Orleans', 'Avenida Marqués de la Argentera, 08003 Barcelona, Spain', 'ORLEANS@gamil.com', '8.3', 'room service, wi-fi, camere pentru familie', '1');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('6', 'Hotel Daniel Vienna', 'Landstraßer Gürtel 5, 1030 Vienna, Austria', '+73858395895', '8.3', 'wi-fi, parcare, piscina, baie comuna, camere pentru familie', '4');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('7', 'Hotel Caroline', 'Gudrunstraße 138, 10. Favoriten, 1100 Vienna, Austria', 'Caroline.Vienna@gmail.com', '9.8', 'wi-fi, parcare, baie proprie, camere de familie, piscina, spa', '4');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('8', 'Hotel Lutetia', '45 Boulevard Raspail, 6th arr., 75006 Paris, France', 'LutetiaH@gmail.com', '8.7', 'lift, wi-fi, baie comuna, acces bucatarie comuna', '2');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('9', 'Bonanova Suite', 'Bisbe Sivilla, 7, Barcelona, Spain', '+357391748294', '7.9', 'lift, baie proprie, parcare, wi-fi', '1');
INSERT INTO cazari (id_cazare, nume, adresa, contact, calificativ, facilitati, id_destinatie) VALUES ('10', 'Travelodge Barcelona Poblenou', 'Llull, 170, Sant Martí, 08005 Barcelona, Spain', '+694845939879', '8.8', 'primeste animale, wi-fi, parcare', '1');

INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('1', '120', to_date('2014-02-23','yyyy-mm-dd'), to_date('2013-05-23','yyyy-mm-dd'), '2', '3');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('2', '120', to_date('2019-05-01','yyyy-mm-dd'), to_date('2015-03-23','yyyy-mm-dd'), '1', '4');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('3', '120', to_date('2016-08-15','yyyy-mm-dd'), to_date('2015-07-21','yyyy-mm-dd'), '1', '2');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('4', '120', to_date('2019-07-19','yyyy-mm-dd'), to_date('2011-02-23','yyyy-mm-dd'), '3', '3');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('5', '120', to_date('2018-11-11','yyyy-mm-dd'), to_date('2012-02-23','yyyy-mm-dd'), '3', '1');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('6', '120', to_date('2020-01-01','yyyy-mm-dd'), to_date('2013-02-23','yyyy-mm-dd'), '2', '1');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('7', '120', to_date('2014-05-18','yyyy-mm-dd'), to_date('2017-04-17','yyyy-mm-dd'), '1', '2');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('8', '120', to_date('2014-05-14','yyyy-mm-dd'), to_date('2016-10-25','yyyy-mm-dd'), '4', '2');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('9', '120', to_date('2021-12-13','yyyy-mm-dd'), to_date('2024-10-24','yyyy-mm-dd'), '4', '4');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('10', '120', to_date('2022-06-11','yyyy-mm-dd'), to_date('2025-09-22','yyyy-mm-dd'), '3', '4');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('11', '170', to_date('2022-06-11','yyyy-mm-dd'), to_date('2025-09-22','yyyy-mm-dd'), '3', '4');
INSERT INTO oferte (id_oferta, pret_persoana, activ_de_la_data, activ_pana_la_data, id_angajat, id_destinatie) VALUES ('12', '230', to_date('2022-06-11','yyyy-mm-dd'), to_date('2025-09-22','yyyy-mm-dd'), '3', '4');

INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-05-12','yyyy-mm-dd'),'2', '1');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-06-12','yyyy-mm-dd'),'2', '2');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-07-12','yyyy-mm-dd'), '3', '3');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-08-12','yyyy-mm-dd'), '4', '4');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-09-12','yyyy-mm-dd'), '5', '5');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-10-12','yyyy-mm-dd'), '6', '6');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-12-12','yyyy-mm-dd'), '7', '10');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-01-12','yyyy-mm-dd'), '8', '9');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2015-01-12','yyyy-mm-dd'), '9', '8');
INSERT INTO  primesc (data, id_client, id_oferta) VALUES (to_date('2019-11-21','yyyy-mm-dd'), '10', '7');







